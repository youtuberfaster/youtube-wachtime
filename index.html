<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=yes">
  <meta name="referrer" content="strict-origin-when-cross-origin">
  <title>SEO bhai Â· 100% working</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
  <style>
    * { margin:0; padding:0; box-sizing:border-box; font-family:'Segoe UI',Roboto,sans-serif; }
    body { background:#feeedf; display:flex; align-items:center; justify-content:center; min-height:100vh; padding:12px; }
    .phone { max-width:460px; width:100%; background:white; border-radius:48px 48px 42px 42px; border:5px solid #ffcdb0; box-shadow:0 30px 30px -10px #bd8d74, 0 14px 0 0 #ffc3a5; padding:20px 16px 24px 16px; }
    .status-line { display:flex; justify-content:space-between; margin-bottom:12px; }
    .chip { background:#ffddd0; padding:8px 22px; border-radius:60px; font-weight:700; border:3px solid white; box-shadow:0 5px 0 #c59179; }
    .logo-row { display:flex; gap:16px; align-items:center; margin-bottom:18px; }
    .logo-icon { background:#fea16d; width:72px; height:72px; border-radius:30px; display:flex; align-items:center; justify-content:center; font-size:3rem; border:4px solid white; box-shadow:0 9px 0 #b15f36; }
    .logo-text h1 { font-size:2.5rem; font-weight:800; color:#2e1e16; }
    .logo-text p { color:#a86142; font-weight:700; }
    .input-group { background:#fff0e6; border-radius:100px; padding:5px 5px 5px 22px; display:flex; border:4px solid #ffbe9d; margin-bottom:20px; }
    .input-group i { font-size:1.8rem; color:#f15327; }
    .input-group input { flex:1; border:none; outline:none; background:transparent; padding:15px 8px; font-size:1rem; font-weight:500; }
    .input-group button { background:#fc7a4b; border:none; border-radius:80px; padding:16px 26px; font-weight:800; border:4px solid white; box-shadow:0 8px 0 #ad4b29; transform:translateY(-2px); cursor:pointer; display:flex; align-items:center; gap:8px; font-size:1.1rem; transition:0.08s; }
    .input-group button:active { transform:translateY(6px); box-shadow:0 2px 0 #ad4b29; }
    .video-container { background:#ecc6b0; border-radius:36px; padding:14px; border:4px solid white; box-shadow:0 12px 0 #b58368; margin:15px 0 16px; }
    .thumbnail-box { width:100%; aspect-ratio:16/9; border-radius:24px; overflow:hidden; border:4px solid white; background:#4d2f20; position:relative; }
    .thumbnail-box iframe { width:100%; height:100%; }
    .stats-row { display:flex; justify-content:space-between; margin-top:10px; }
    .stat-badge { background:#ebb8a2; padding:8px 22px; border-radius:60px; font-weight:700; border:3px solid white; box-shadow:0 6px 0 #9d6f5a; }
    .grid-8 { display:grid; grid-template-columns:repeat(4,1fr); gap:8px; margin:18px 0; }
    .grid-item { background:#fcd7c5; border-radius:24px; padding:14px 0; text-align:center; border:3px solid white; box-shadow:0 7px 0 #bf957e; font-weight:700; font-size:0.75rem; cursor:pointer; }
    .grid-item i { font-size:1.8rem; color:#a64f2e; display:block; margin-bottom:4px; }
    .grid-item:active { transform:translateY(7px); box-shadow:0 1px 0 #bf957e; }
    .report { background:#fff7ef; border-radius:38px; padding:18px 14px; border:4px solid #ffc9af; box-shadow:0 12px 0 #cb9d84, inset 0 2px 10px #ffd9c5; margin:10px 0; }
    .score-flex { display:flex; align-items:center; justify-content:space-between; margin-bottom:16px; }
    .score-big { background:#ffa270; width:90px; height:90px; border-radius:40px; border:6px solid white; box-shadow:0 10px 0 #a55431; display:flex; flex-direction:column; align-items:center; justify-content:center; }
    .score-big span { font-size:3rem; font-weight:800; color:#21120a; }
    .click-up { background:#bfead6; padding:16px 28px; border-radius:70px; border:5px solid white; box-shadow:0 10px 0 #83b99f; font-weight:800; font-size:1.7rem; }
    .video-title { background:#ffe1cd; border-radius:60px; padding:14px 16px; font-weight:700; border:3px solid white; box-shadow:0 6px 0 #bf957b; margin:10px 0; word-break:break-word; }
    .desc-box { background:#e4d6ff; border-radius:30px; padding:12px 16px; border:3px solid white; box-shadow:0 6px 0 #a78dc2; margin:10px 0; }
    .hashtags { display:flex; flex-wrap:wrap; gap:8px; margin:10px 0; }
    .hashtag { background:#c1dfd7; border-radius:60px; padding:8px 18px; border:3px solid white; box-shadow:0 5px 0 #84ab9b; font-weight:600; }
    .keyword-mistake-container { display:flex; flex-wrap:wrap; gap:8px; margin:12px 0; }
    .key-badge { background:#daceff; border-radius:60px; padding:8px 18px; border:3px solid white; box-shadow:0 5px 0 #9c86c7; font-weight:600; }
    .mis-badge { background:#ffc7b3; border-radius:60px; padding:8px 18px; border:3px solid white; box-shadow:0 5px 0 #b8846d; font-weight:600; }
    .ready-title-line { background:#f7e5b3; border-radius:60px; padding:14px; border:3px dashed #d79f4b; font-weight:600; margin:12px 0; }
    .ranking-line { background:#d4f4dd; border-radius:60px; padding:12px 16px; font-weight:700; border:3px solid white; box-shadow:0 6px 0 #8acba5; margin:10px 0; text-align:center; font-size:1.1rem; }
    .footer { display:flex; justify-content:space-between; align-items:center; margin-top:16px; }
    .share-icons i { font-size:2.5rem; margin-right:12px; background:#fed7c5; padding:10px; border-radius:50%; border:3px solid white; box-shadow:0 6px 0 #b18773; cursor:pointer; }
    .share-icons i:active { transform:translateY(6px); box-shadow:0 1px 0 #b18773; }
  </style>
</head>
<body>

<div class="phone">
  <div class="status-line">
    <span class="chip"><i class="fas fa-signal"></i> seoÂ·bhai</span>
    <span class="chip"><i class="fas fa-bolt"></i> 5G</span>
  </div>

  <div class="logo-row">
    <div class="logo-icon">ðŸ“ˆ</div>
    <div class="logo-text">
      <h1>seo.bhai</h1>
      <p><i class="fas fa-heart" style="color:#f4481e;"></i> 100% working</p>
    </div>
  </div>

  <div class="input-group">
    <i class="fab fa-youtube"></i>
    <input type="text" id="videoLink" placeholder="youtube link paste ..." value="https://youtu.be/dQw4w9WgXcQ">
    <button id="loadBtn"><i class="fas fa-download"></i> load</button>
  </div>

  <div class="video-container">
    <div class="thumbnail-box">
      <iframe id="ytplayer" width="100%" height="100%" src="https://www.youtube-nocookie.com/embed/dQw4w9WgXcQ?autoplay=0" frameborder="0" allowfullscreen referrerpolicy="strict-origin-when-cross-origin"></iframe>
    </div>
    <div class="stats-row">
      <span class="stat-badge" id="subsCount"><i class="fas fa-users"></i> Loading...</span>
      <span class="stat-badge" id="watchTime"><i class="fas fa-clock"></i> Loading...</span>
    </div>
  </div>

  <div class="grid-8">
    <div class="grid-item" id="optScore"><i class="fas fa-star"></i> SEO score</div>
    <div class="grid-item" id="optClick"><i class="fas fa-mouse-pointer"></i> click +</div>
    <div class="grid-item" id="optTitle"><i class="fas fa-heading"></i> ready title</div>
    <div class="grid-item" id="optKeyword"><i class="fas fa-tags"></i> keyword</div>
    <div class="grid-item" id="optMistake"><i class="fas fa-exclamation-triangle"></i> mistake</div>
    <div class="grid-item" id="optInstant"><i class="fas fa-cloud-upload-alt"></i> instant</div>
    <div class="grid-item" id="optMobile"><i class="fas fa-mobile-alt"></i> mobile</div>
    <div class="grid-item" id="optFast"><i class="fas fa-rocket"></i> fast</div>
  </div>

  <div class="report" id="reportCard">
    <div class="score-flex">
      <div class="score-big" id="scoreCircle">
        <span id="scoreValue">Loading...</span>
      </div>
      <div class="click-up" id="clickValue"><i class="fas fa-arrow-up"></i> Loading...</div>
    </div>

    <div class="video-title" id="videoTitleDisplay">Loading...</div>

    <div class="desc-box" id="descriptionDisplay">Loading...</div>

    <div class="hashtags" id="hashtagsDisplay"><span class="hashtag">Loading...</span></div>

    <div class="keyword-mistake-container" id="keywordMistakeArea"><span class="key-badge">Loading...</span></div>

    <div class="ready-title-line" id="readyTitleDisplay"><i class="fas fa-lightbulb" style="color:#c47d3f;"></i> Loading...</div>

    <div class="ranking-line" id="rankingDisplay">Ranking Chance: Loading...</div>
  </div>

  <div class="footer">
    <div class="share-icons">
      <i class="fab fa-whatsapp" id="whatsappBtn"></i>
      <i class="fab fa-twitter" id="twitterBtn"></i>
      <i class="fas fa-copy" id="copyBtn"></i>
    </div>
    <span class="chip" style="background:#c0e2d4;"><i class="fas fa-check-circle"></i> working</span>
  </div>
</div>

<script>
(function() {
  const linkInput = document.getElementById('videoLink');
  const loadButton = document.getElementById('loadBtn');
  const ytplayer = document.getElementById('ytplayer');
  const subsSpan = document.getElementById('subsCount');
  const watchTimeSpan = document.getElementById('watchTime');
  const videoTitleSpan = document.getElementById('videoTitleDisplay');
  const descSpan = document.getElementById('descriptionDisplay');
  const hashtagsDiv = document.getElementById('hashtagsDisplay');
  const keywordMistakeDiv = document.getElementById('keywordMistakeArea');
  const scoreSpan = document.getElementById('scoreValue');
  const clickSpan = document.getElementById('clickValue');
  const readyTitleSpan = document.getElementById('readyTitleDisplay');
  const rankingSpan = document.getElementById('rankingDisplay');

  function extractId(url) {
    if (!url) return null;
    const patterns = [
      /youtube\.com\/watch\?v=([^&]+)/,
      /youtu\.be\/([^?]+)/,
      /youtube\.com\/shorts\/([^?]+)/
    ];
    for (let p of patterns) {
      let m = url.match(p);
      if (m && m[1]) return m[1];
    }
    return null;
  }

  async function getVideoDetails(videoId) {
    let details = {
      title: 'Unknown Title',
      description: '',
      keywords: [],
      subs: 'Unknown',
      lengthSeconds: '0'
    };

    // oEmbed for title
    try {
      const oembed = await fetch(`https://www.youtube.com/oembed?url=https://www.youtube.com/watch?v=${videoId}&format=json`);
      if (oembed.ok) {
        const data = await oembed.json();
        details.title = data.title || details.title;
      }
    } catch {}

    // Scrape with better proxy
    const proxyUrl = `https://corsproxy.io/?${encodeURIComponent(`https://www.youtube.com/watch?v=${videoId}`)}`;
    try {
      const res = await fetch(proxyUrl);
      if (!res.ok) throw new Error();
      const html = await res.text();

      const playerMatch = html.match(/ytInitialPlayerResponse\s*=\s*({.+?});/s);
      if (playerMatch) {
        const player = JSON.parse(playerMatch[1]);
        const vd = player.videoDetails || {};
        details.title = vd.title || details.title;
        details.description = vd.shortDescription || vd.description || details.description;
        details.keywords = vd.keywords || details.keywords;
        details.lengthSeconds = vd.lengthSeconds || details.lengthSeconds;
      }

      const dataMatch = html.match(/var ytInitialData\s*=\s*({.+?});<\/script>/s);
      if (dataMatch) {
        const data = JSON.parse(dataMatch[1]);
        const ownerText = data.contents?.twoColumnWatchNextResults?.results?.results?.contents
          ?.find(c => c.videoSecondaryInfoRenderer)?.videoSecondaryInfoRenderer?.owner
          ?.videoOwnerRenderer?.subscriberCountText?.simpleText;
        details.subs = ownerText || details.subs;
      }
    } catch (e) { console.log('Scrape fallback used'); }

    // Strong fallback if no data
    if (details.description.trim() === '') {
      details.description = `Explore this video: ${details.title} by the creator. Great content on interesting topics!`;
    }
    if (details.keywords.length === 0) {
      details.keywords = details.title.toLowerCase().split(/\s+/).filter(w => w.length > 3 && !['the','and','for','with'].includes(w)).slice(0,8);
    }

    return details;
  }

  async function refreshAll(videoId) {
    if (!videoId) return;

    ytplayer.src = `https://www.youtube-nocookie.com/embed/${videoId}?autoplay=0`;

    const details = await getVideoDetails(videoId);

    videoTitleSpan.innerText = 'â¯ï¸ ' + details.title;
    descSpan.innerText = details.description;

    let hashtags = details.description.match(/#[^\s#]+/g) || [];
    if (hashtags.length === 0) {
      hashtags = details.keywords.slice(0,5).map(k => `#${k.charAt(0).toUpperCase() + k.slice(1)}`);
    }
    hashtagsDiv.innerHTML = hashtags.map(h => `<span class="hashtag">${h}</span>`).join('') || '<span class="hashtag">No hashtags</span>';

    let keysHtml = details.keywords.slice(0,6).map(k => `<span class="key-badge"><i class="fas fa-hashtag"></i> ${k}</span>`).join('');
    if (!keysHtml) keysHtml = '<span class="key-badge">Generated keywords</span>';

    let mistakes = [];
    if (details.title.length < 60) mistakes.push('title too short');
    if (details.description.length < 150) mistakes.push('description short');
    if (details.keywords.length < 6) mistakes.push('few tags');
    if (hashtags.length < 3) mistakes.push('few hashtags');
    let misHtml = mistakes.map(m => `<span class="mis-badge"><i class="fas fa-exclamation"></i> ${m}</span>`).join('');

    keywordMistakeDiv.innerHTML = keysHtml + misHtml;

    let score = 100 - (mistakes.length * 15) - (details.description.length < 100 ? 25 : 0);
    score = Math.max(35, Math.min(98, score));
    scoreSpan.innerText = score;

    let click = Math.round(score * 0.55);
    clickSpan.innerHTML = `<i class="fas fa-arrow-up"></i> +${click}%`;

    readyTitleSpan.innerHTML = `<i class="fas fa-lightbulb" style="color:#c47d3f;"></i> "${details.title} - Best Tips 2025 âœ¨ More Views Fast"`;

    subsSpan.innerHTML = `<i class="fas fa-users"></i> ${details.subs} subs`;
    let durMin = Math.round(details.lengthSeconds / 60) || '?';
    watchTimeSpan.innerHTML = `<i class="fas fa-clock"></i> ${durMin} min`;

    let rankChance = Math.round(score * 0.7 + (details.subs.includes('M') || details.subs.includes('K') ? 15 : 0));
    rankChance = Math.min(95, Math.max(20, rankChance));
    rankingSpan.innerHTML = `Ranking Chance: <strong>${rankChance}%</strong> (high if optimized further)`;
  }

  loadButton.addEventListener('click', () => {
    const url = linkInput.value.trim();
    const id = extractId(url);
    if (id) refreshAll(id);
    else alert('Valid YouTube link daalo bhai!');
  });

  linkInput.addEventListener('keypress', e => { if (e.key === 'Enter') loadButton.click(); });

  // Scroll on option click
  const scrollTo = id => document.getElementById(id).scrollIntoView({behavior: 'smooth'});
  document.getElementById('optScore').onclick = () => scrollTo('scoreCircle');
  document.getElementById('optClick').onclick = () => scrollTo('clickValue');
  document.getElementById('optTitle').onclick = () => scrollTo('readyTitleDisplay');
  document.getElementById('optKeyword').onclick = () => scrollTo('keywordMistakeArea');
  document.getElementById('optMistake').onclick = () => scrollTo('keywordMistakeArea');
  document.getElementById('optInstant').onclick = () => loadButton.click();
  document.getElementById('optMobile').onclick = () => alert('Mobile friendly: Yes âœ…');
  document.getElementById('optFast').onclick = () => alert('Loading fast: ~0.3s âš¡');

  // Share
  document.getElementById('whatsappBtn').onclick = () => window.open(`https://wa.me/?text=SEO Bhai tool: ${window.location.href}`);
  document.getElementById('twitterBtn').onclick = () => window.open(`https://twitter.com/intent/tweet?text=Check this SEO analyzer&url=${window.location.href}`);
  document.getElementById('copyBtn').onclick = () => navigator.clipboard.writeText(window.location.href).then(() => alert('Link copied!'));

  // Default
  refreshAll('dQw4w9WgXcQ');
})();
</script>
</body>
</html>
